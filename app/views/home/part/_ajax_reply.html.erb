<script type="text/javascript">
$(document).ready(function(){
    $("#replySubmit").click(function(){
        $.ajax({
            method: "POST",
            url: "/reply/create",
            data: {
                post_id: post_id,
                user_id: user_id,
                option_num: option_num,
                content: content,
                img_url: img_url
            },
            dataType: "json"
        })
        .done(function( json ) {
            var replies = json.Reply;
            var current_reply = json.current_reply;
            var current_post = json.current_post;
            var current_user = json.current_user;
            
        })
    });
    
    $(".likePost").click(function(){
        var this_post = $(this);
        var postId = this_post.attr("num");    // like button with attribute name of num="(this_post.id)"
        var user_id = $("#userId").val();      // hidden type input with id="userId" value="(current_user.id)"
        $.ajax({
            method: "POST",
            url: "/post/count_update",
            data: {post_id: postId, user_id: user_id},
            dataType: "json"
        })
        .done(function( json ) {
            var updated_count = json.count;
            $("#post_count").empty('');
            $("#post_count").append(updated_count)
        })
    });
    
    $(".likeReply").click(function(){
        var this_reply = $(this);
        var replyId = this_reply.attr("num");    // like button with attribute name of num="(this_reply.id)"
        var user_id = $("#userId").val();        // hidden type input with id="userId" value="(current_user.id)"
        $.ajax({
            method: "POST",
            url: "/reply/count_update",
            data: {reply_id: replyId, user_id: user_id},
            dataType: "json"
        })
        .done(function( json ) {
            var updated_count = json.count;
            $("#reply_count").empty('');
            $("#reply_count").append(updated_count)
        });
    });
});
</script>